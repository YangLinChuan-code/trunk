"use strict";(globalThis["webpackChunktrunk"]=globalThis["webpackChunktrunk"]||[]).push([[323],{3323:(e,l,a)=>{a.r(l),a.d(l,{default:()=>h});a(5633);var t=a(9835),s=a(6970),o=a(499),u=a(6827),n=a(7712);const m={class:"q-pa-sm q-gutter-y-lg"},d={class:"row"},i={class:"col-6 q-gutter-y-lg"},r={class:"col-6 q-gutter-y-lg"},p={class:"row"},c={class:"col-6 q-gutter-y-lg"},b={__name:"Smtp",setup(e){const l=(0,t.f3)("post"),{t:a}=(0,n.QT)(),b=(0,o.iH)("0"),v=[{label:"TLS",value:0},{label:"SSL",value:1}],g=(0,o.iH)(!1),_=(0,o.iH)(!1),V=(0,o.iH)(!1),W=(0,o.qj)({id:"",title:"",content:""}),f=(0,o.qj)({id:"",server:"",port:"",username:"",password:"",senders_name:"",service_email:"",service_type:0,test_email:""});(0,t.bv)((()=>{w(),y()}));const w=()=>{l("/smtp/smtp_info",{},(e=>{if("success"===e.status)for(let l in f)Object.hasOwn(e.info,l)&&(f[l]=e.info[l]);else u.Z.create({message:e.message,position:"top",color:"negative"})}))},q=()=>{_.value=!0,l("/smtp/smtp_save",f,(e=>{"success"===e.status?(_.value=!1,u.Z.create({message:e.message,position:"top",color:"positive"}),w()):u.Z.create({message:e.message,position:"top",color:"negative"})}))},Z=()=>{g.value=!0,l("/smtp/test_email",{test_email:f.test_email},(e=>{"success"===e.status?(g.value=!1,u.Z.create({message:e.message,position:"top",color:"positive"})):u.Z.create({message:e.message,position:"top",color:"negative"})}))},y=()=>{l("/smtp/smtp_template_info",{},(e=>{if("success"===e.status)for(let l in W)Object.hasOwn(e.info,l)&&(W[l]=e.info[l]);else u.Z.create({message:e.message,position:"top",color:"negative"})}))},S=()=>{V.value=!0,l("/smtp/smtp_template_save",W,(e=>{"success"===e.status?(V.value=!0,u.Z.create({message:e.message,position:"top",color:"positive"}),y()):u.Z.create({message:e.message,position:"top",color:"negative"})}))};return(e,l)=>{const a=(0,t.up)("q-card-section"),o=(0,t.up)("q-tab"),u=(0,t.up)("q-tabs"),n=(0,t.up)("q-separator"),w=(0,t.up)("q-input"),y=(0,t.up)("q-select"),$=(0,t.up)("q-btn"),Q=(0,t.up)("q-form"),U=(0,t.up)("q-tab-panel"),T=(0,t.up)("q-tab-panels"),h=(0,t.up)("q-card"),k=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(k,{padding:""},{default:(0,t.w5)((()=>[(0,t.Wm)(h,null,{default:(0,t.w5)((()=>[(0,t.Wm)(a,{class:"text-h6"},{default:(0,t.w5)((()=>[(0,t.Uk)(" EMAIL SMTP "+(0,s.zw)(e.$t("設定")),1)])),_:1}),(0,t.Wm)(a,null,{default:(0,t.w5)((()=>[(0,t.Wm)(h,null,{default:(0,t.w5)((()=>[(0,t.Wm)(u,{modelValue:b.value,"onUpdate:modelValue":l[0]||(l[0]=e=>b.value=e),class:"text-grey","active-color":"primary","indicator-color":"primary",align:"left","narrow-indicator":""},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{name:"0",label:"SMTP "+e.$t("設定")},null,8,["label"]),(0,t.Wm)(o,{name:"1",label:"SMTP "+e.$t("模板設定")},null,8,["label"])])),_:1},8,["modelValue"]),(0,t.Wm)(n),(0,t.Wm)(T,{modelValue:b.value,"onUpdate:modelValue":l[11]||(l[11]=e=>b.value=e),animated:""},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{name:"0"},{default:(0,t.w5)((()=>[(0,t._)("div",m,[(0,t.Wm)(Q,{onSubmit:q},{default:(0,t.w5)((()=>[(0,t._)("div",d,[(0,t._)("div",i,[(0,t.Wm)(w,{dense:"",outlined:"",clearable:"",modelValue:f.server,"onUpdate:modelValue":l[1]||(l[1]=e=>f.server=e),label:e.$t("伺服器")},null,8,["modelValue","label"]),(0,t.Wm)(w,{dense:"",outlined:"",clearable:"",modelValue:f.port,"onUpdate:modelValue":l[2]||(l[2]=e=>f.port=e),label:e.$t("端口")},null,8,["modelValue","label"]),(0,t.Wm)(w,{dense:"",outlined:"",clearable:"",modelValue:f.username,"onUpdate:modelValue":l[3]||(l[3]=e=>f.username=e),label:e.$t("用戶名稱")},null,8,["modelValue","label"]),(0,t.Wm)(w,{dense:"",outlined:"",clearable:"",modelValue:f.password,"onUpdate:modelValue":l[4]||(l[4]=e=>f.password=e),label:e.$t("密碼"),type:"password"},null,8,["modelValue","label"]),(0,t.Wm)(w,{dense:"",outlined:"",clearable:"",modelValue:f.senders_name,"onUpdate:modelValue":l[5]||(l[5]=e=>f.senders_name=e),label:e.$t("發件人名稱")},null,8,["modelValue","label"]),(0,t.Wm)(w,{dense:"",outlined:"",clearable:"",modelValue:f.service_email,"onUpdate:modelValue":l[6]||(l[6]=e=>f.service_email=e),label:e.$t("服務郵箱")},null,8,["modelValue","label"]),(0,t.Wm)(y,{dense:"",outlined:"",modelValue:f.service_type,"onUpdate:modelValue":l[7]||(l[7]=e=>f.service_type=e),options:v,"emit-value":"","map-options":"",label:"TLS/SSL"},null,8,["modelValue"]),(0,t.Wm)($,{color:"primary",type:"submit",loading:_.value,label:e.$t("儲存")},null,8,["loading","label"])])])])),_:1}),(0,t.Wm)(Q,{onSubmit:Z,class:"row"},{default:(0,t.w5)((()=>[(0,t._)("div",r,[(0,t.Wm)(w,{dense:"",outlined:"",clearable:"",modelValue:f.test_email,"onUpdate:modelValue":l[8]||(l[8]=e=>f.test_email=e),label:e.$t("接收郵箱")},null,8,["modelValue","label"]),(0,t.Wm)($,{color:"primary",type:"submit",loading:g.value,label:e.$t("測試發送")},null,8,["loading","label"])])])),_:1})])])),_:1}),(0,t.Wm)(U,{name:"1"},{default:(0,t.w5)((()=>[(0,t.Wm)(Q,{class:"q-pa-sm",onSubmit:S},{default:(0,t.w5)((()=>[(0,t._)("div",p,[(0,t._)("div",c,[(0,t.Wm)(w,{dense:"",outlined:"",clearable:"",modelValue:W.title,"onUpdate:modelValue":l[9]||(l[9]=e=>W.title=e),label:e.$t("主題")},null,8,["modelValue","label"]),(0,t.Wm)(w,{dense:"",outlined:"",clearable:"",type:"textarea",modelValue:W.content,"onUpdate:modelValue":l[10]||(l[10]=e=>W.content=e),label:e.$t("內容")},null,8,["modelValue","label"]),(0,t.Wm)($,{color:"primary",label:e.$t("儲存"),loading:V.value,type:"submit"},null,8,["label","loading"])])])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})}}};var v=a(9885),g=a(4458),_=a(3190),V=a(7817),W=a(900),f=a(926),w=a(9800),q=a(4106),Z=a(8326),y=a(6611),S=a(2259),$=a(8879),Q=a(9984),U=a.n(Q);const T=b,h=T;U()(b,"components",{QPage:v.Z,QCard:g.Z,QCardSection:_.Z,QTabs:V.Z,QTab:W.Z,QSeparator:f.Z,QTabPanels:w.Z,QTabPanel:q.Z,QForm:Z.Z,QInput:y.Z,QSelect:S.Z,QBtn:$.Z})}}]);