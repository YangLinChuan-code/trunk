"use strict";(globalThis["webpackChunktrunk"]=globalThis["webpackChunktrunk"]||[]).push([[630],{3871:(e,l,a)=>{a.r(l),a.d(l,{default:()=>Ie});a(9665);var t=a(9835),o=a(6970),n=a(499),s=a(5544),c=a(8339),d=a(7712),u=a(6827),i=a(706);const m={class:"row col-xs-12 justify-between"},_={class:"text-subtitle2 q-my-md"},r={class:"col-xs-12"},p={class:"required"},V={class:"col-xs-12"},b={key:0,class:"col-xs-12"},U={class:"col-xs-12"},v={class:"required"},w={class:"col-xs-12"},f={class:"col-xs-12"},x={class:"col-xs-12"},$={class:"col-xs-12"},g={class:"col-xs-12"},y={class:"col-xs-12"},h={class:"col-xs-12"},k={class:"required"},S={class:"col-xs-12"},W={class:"col-xs-12"},z={class:"col-xs-12"},q={class:"col-xs-12"},G={class:"col-xs-12"},Z={class:"col-xs-12"},j={class:"col-xs-12"},Q={class:"text-subtitle2 q-mb-md"},D={class:"col-xs-12"},H={class:"col-xs-12"},B={class:"col-xs-12"},C={class:"col-xs-12"},I={class:"col-xs-12"},Y={class:"col-xs-12"},F={class:"col-xs-12"},O={class:"row q-col-gutter-md"},R={class:"text-subtitle2"},T={class:"row col-xs-12"},A={style:{flex:"0 0 6em"}},E={class:"row col-xs-12"},N={style:{flex:"0 0 6em"}},P={class:"row col-xs-12"},J=(0,t._)("span",{style:{flex:"0 0 6em"}},"BR.:",-1),K={class:"row col-xs-12"},L={style:{flex:"0 0 6em"}},M={class:"row col-xs-12"},X={style:{flex:"0 0 6em"}},ee={class:"row col-xs-12"},le={style:{flex:"0 0 6em"}},ae={class:"q-col-gutter-md col-xs-12"},te={class:"text-subtitle2"},oe={class:"q-mt-sm"},ne=(0,t._)("br",null,null,-1),se=(0,t._)("br",null,null,-1),ce=(0,t._)("br",null,null,-1),de=(0,t._)("br",null,null,-1),ue=(0,t._)("br",null,null,-1),ie=(0,t._)("br",null,null,-1),me=(0,t._)("br",null,null,-1),_e=(0,t._)("br",null,null,-1),re=(0,t._)("br",null,null,-1),pe=(0,t._)("br",null,null,-1),Ve=(0,t._)("br",null,null,-1),be=(0,t._)("br",null,null,-1),Ue=(0,t._)("br",null,null,-1),ve=(0,t._)("br",null,null,-1),we={class:"q-mt-sm"},fe=(0,t._)("br",null,null,-1),xe={class:"col-xs-12"},$e={class:"text-subtitle2"},ge={class:"col-xs-12"},ye={class:"text-subtitle2"},he={class:"q-mt-sm"},ke={class:"col-xs-12 q-gutter-sm q-mt-md"},Se=(0,t._)("div",{class:"text-center"},[(0,t._)("h4",null,"添加成功")],-1),We={__name:"Index",emits:["add"],setup(e,{emit:l}){const a=(0,c.tv)(),We=(0,c.yj)(),ze=(0,t.f3)("post"),qe=(0,t.f3)("upfile"),{t:Ge}=(0,d.QT)(),Ze=(0,n.iH)(!1),je=(0,n.qj)({type:0,code:"",client_register_ename:"",client_register_name:"",client_id_code:"",client_company_name:"",client_company_ename:"",client_contact_ename:"",client_contact_name:"",client_certificate:"",client_due_date:"",client_contact_position:"",client_address:"",client_phone:"",client_telephone:"",client_email:"",client_bank_name:"",client_account:"",client_account_name:"",contact_ename:"",contact_name:"",contact_id_code:"",contact_address:"",contact_phone:"",contact_telephone:"",contact_email:"",whatsapp:"",id_code_file:[],address_identify:[],br_url:[],company_seal_url:[],declare_url:[],other_url:[],cid:"",sun:"",sid:"",scn:"",four:[[],[]],five:[[]],six:[[]],remarks:[],user_type:2}),Qe=(0,n.qj)({isSuccess:!1,type:[{label:Ge("個人"),value:0},{label:Ge("公司"),value:1}],groups:{four:[],five:[],six:[]}}),De=(e,l,a)=>{const t=new FormData;e instanceof Array?e.forEach(((e,l)=>{t.append(`file[${l}]`,e)})):t.append("file",e),qe("/upload/upload",t,(function(e){try{e=JSON.parse(e)}catch(t){}"success"===e.status?l({value:e.info,date:e["new_name"]}):a()}))};(0,t.bv)((()=>{He(),Be()}));const He=()=>{ze("/customer/statement_info",{},(e=>{if("success"!==e.status)return;const l={4:"four",5:"five",6:"six"},a={};e.info?.forEach((e=>{const t=l[String(e.type)];a.hasOwnProperty(t)?a[t].push(e):a[t]=[e]}));for(let t in a){let e=a[t];const l={};for(let a of e){const e=String(a.group);l.hasOwnProperty(e)?l[e].push(a):l[e]=[a]}a[t]=Object.values(l)}Qe.groups=a}))},Be=()=>{const e=We.query.id,l=sessionStorage.getItem("qrcode_"+e);l?ze("/customer/is_invalid",{id:e,token:l},(e=>{"success"===e.status||(a.push("/404"),u.Z.create({message:e.message,position:"top",color:"negative"}))})):ze("/customer/is_invalid",{id:e},(l=>{"success"===l.status?sessionStorage.setItem("qrcode_"+e,l.info):(a.push("/404"),u.Z.create({message:l.message,position:"top",color:"negative"}))}))},Ce=(0,n.iH)(),Ie=()=>{Ce.value.validate().then((e=>{if(!e)return document.activeElement?.scrollIntoView({behavior:"smooth"});let a=je.four[0];for(let l of a)if(0===l.status)return u.Z.create({message:Ge("需同意 第4點 聲明表所列需求"),position:"top",color:"negative"});a=je.five[0];for(let l of a)if(0===l.status)return u.Z.create({message:Ge("需同意第5點所列所有要求"),position:"top",color:"negative"});const t=We.query.id;Ze.value=!0,ze("/customer/customer_advance_add",{form:je,id:t},(e=>{"success"===e.status?(Ze.value=!1,l("add",{...je,id:e.id}),u.Z.create({message:e.message,position:"top",color:"positive"}),Qe.isSuccess=!0):u.Z.create({message:e.message,position:"top",color:"negative"})}))}))},Ye=(0,t.Fl)((()=>({outlined:!0,dense:!0,class:"q-field--with-bottom"}))),Fe=(0,n.qj)({client_name:[e=>e&&e.length>0||Ge("請輸入註冊名稱")],client_phone:[e=>e&&""!==e||Ge("請輸入手機號碼")],company_name:[e=>e&&e.length>0||Ge("請輸入公司名稱")]});return(e,l)=>{const a=(0,t.up)("q-btn-toggle"),c=(0,t.up)("q-input"),d=(0,t.up)("date"),u=(0,t.up)("q-btn"),We=(0,t.up)("q-form"),ze=(0,t.up)("q-card-section"),qe=(0,t.up)("q-card");return(0,t.wg)(),(0,t.j4)(qe,null,{default:(0,t.w5)((()=>[Qe.isSuccess?((0,t.wg)(),(0,t.j4)(ze,{key:1},{default:(0,t.w5)((()=>[Se])),_:1})):((0,t.wg)(),(0,t.j4)(ze,{key:0},{default:(0,t.w5)((()=>[(0,t.Wm)(We,{class:"row",ref_key:"formRef",ref:Ce,style:{"max-width":"600px"}},{default:(0,t.w5)((()=>[(0,t._)("div",m,[(0,t.Wm)(a,{modelValue:je.type,"onUpdate:modelValue":l[0]||(l[0]=e=>je.type=e),options:Qe.type},null,8,["modelValue","options"])]),(0,t._)("div",_,"1."+(0,o.zw)(e.$t("客戶的資料")),1),0===je.type?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t._)("div",r,[(0,t.Wm)(c,(0,t.dG)((0,n.SU)(Ye),{modelValue:je.client_register_ename,"onUpdate:modelValue":l[1]||(l[1]=e=>je.client_register_ename=e),"label-slot":"",rules:Fe.client_name}),{label:(0,t.w5)((()=>[(0,t._)("span",p,(0,o.zw)(e.$t("註冊名稱")),1)])),_:1},16,["modelValue","rules"])]),(0,t._)("div",V,[(0,t.Wm)(c,(0,t.dG)((0,n.SU)(Ye),{modelValue:je.client_register_name,"onUpdate:modelValue":l[2]||(l[2]=e=>je.client_register_name=e),label:e.$t("註冊名稱(中文)")}),null,16,["modelValue","label"])]),0==je.user_type?((0,t.wg)(),(0,t.iD)("div",b,[(0,t.Wm)(c,(0,t.dG)((0,n.SU)(Ye),{modelValue:je.client_id_code,"onUpdate:modelValue":l[3]||(l[3]=e=>je.client_id_code=e),label:e.$t("身份證號碼")}),null,16,["modelValue","label"])])):(0,t.kq)("",!0)],64)):1===je.type?((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t._)("div",U,[(0,t.Wm)(c,(0,t.dG)((0,n.SU)(Ye),{modelValue:je.client_company_ename,"onUpdate:modelValue":l[4]||(l[4]=e=>je.client_company_ename=e),"label-slot":"",rules:Fe.company_name}),{label:(0,t.w5)((()=>[(0,t._)("span",v,(0,o.zw)(e.$t("公司名稱")),1)])),_:1},16,["modelValue","rules"])]),(0,t._)("div",w,[(0,t.Wm)(c,(0,t.dG)((0,n.SU)(Ye),{modelValue:je.client_company_name,"onUpdate:modelValue":l[5]||(l[5]=e=>je.client_company_name=e),label:e.$t("公司名稱(中文)")}),null,16,["modelValue","label"])]),0==je.user_type?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t._)("div",f,[(0,t.Wm)(c,(0,t.dG)((0,n.SU)(Ye),{modelValue:je.client_contact_ename,"onUpdate:modelValue":l[6]||(l[6]=e=>je.client_contact_ename=e),label:e.$t("聯繫人名稱")}),null,16,["modelValue","label"])]),(0,t._)("div",x,[(0,t.Wm)(c,(0,t.dG)((0,n.SU)(Ye),{modelValue:je.client_contact_name,"onUpdate:modelValue":l[7]||(l[7]=e=>je.client_contact_name=e),label:e.$t("聯繫人名稱(中文)")}),null,16,["modelValue","label"])]),(0,t._)("div",$,[(0,t.Wm)(c,(0,t.dG)((0,n.SU)(Ye),{modelValue:je.client_certificate,"onUpdate:modelValue":l[8]||(l[8]=e=>je.client_certificate=e),label:e.$t("B.R.證書No.")}),null,16,["modelValue","label"])]),(0,t._)("div",g,[(0,t.Wm)(d,(0,t.dG)((0,n.SU)(Ye),{label:e.$t("B.R.到期日"),"stack-label":"",class:"col-5",modelValue:je.client_due_date,"onUpdate:modelValue":l[9]||(l[9]=e=>je.client_due_date=e)}),null,16,["label","modelValue"])]),(0,t._)("div",y,[(0,t.Wm)(c,(0,t.dG)((0,n.SU)(Ye),{modelValue:je.client_contact_position,"onUpdate:modelValue":l[10]||(l[10]=e=>je.client_contact_position=e),label:e.$t("聯繫人職位")}),null,16,["modelValue","label"])])],64)):(0,t.kq)("",!0)],64)):(0,t.kq)("",!0),(0,t._)("div",h,[(0,t.Wm)(c,(0,t.dG)((0,n.SU)(Ye),{modelValue:je.client_phone,"onUpdate:modelValue":l[11]||(l[11]=e=>je.client_phone=e),"label-slot":"",rules:Fe.client_phone}),{label:(0,t.w5)((()=>[(0,t._)("span",k,(0,o.zw)(e.$t("手機號碼")),1)])),_:1},16,["modelValue","rules"])]),(0,t._)("div",S,[(0,t.Wm)(c,(0,t.dG)((0,n.SU)(Ye),{modelValue:je.client_telephone,"onUpdate:modelValue":l[12]||(l[12]=e=>je.client_telephone=e),label:e.$t("家用電話")}),null,16,["modelValue","label"])]),(0,t._)("div",W,[(0,t.Wm)(c,(0,t.dG)((0,n.SU)(Ye),{modelValue:je.client_email,"onUpdate:modelValue":l[13]||(l[13]=e=>je.client_email=e),label:e.$t("郵箱")}),null,16,["modelValue","label"])]),(0,t._)("div",z,[(0,t.Wm)(c,(0,t.dG)((0,n.SU)(Ye),{modelValue:je.whatsapp,"onUpdate:modelValue":l[14]||(l[14]=e=>je.whatsapp=e),label:"Whatsapp"}),null,16,["modelValue"])]),(0,t._)("div",q,[(0,t.Wm)(c,(0,t.dG)((0,n.SU)(Ye),{modelValue:je.client_address,"onUpdate:modelValue":l[15]||(l[15]=e=>je.client_address=e),label:e.$t("地址")}),null,16,["modelValue","label"])]),(0,t._)("div",G,[(0,t.Wm)(c,(0,t.dG)((0,n.SU)(Ye),{modelValue:je.client_bank_name,"onUpdate:modelValue":l[16]||(l[16]=e=>je.client_bank_name=e),label:e.$t("銀行名字")}),null,16,["modelValue","label"])]),(0,t._)("div",Z,[(0,t.Wm)(c,(0,t.dG)((0,n.SU)(Ye),{modelValue:je.client_account,"onUpdate:modelValue":l[17]||(l[17]=e=>je.client_account=e),label:e.$t("賬戶")+"No."}),null,16,["modelValue","label"])]),(0,t._)("div",j,[(0,t.Wm)(c,(0,t.dG)((0,n.SU)(Ye),{modelValue:je.client_account_name,"onUpdate:modelValue":l[18]||(l[18]=e=>je.client_account_name=e),label:e.$t("賬戶名字")}),null,16,["modelValue","label"])]),(0,t._)("div",Q,"2."+(0,o.zw)(e.$t("聯繫人資料")),1),(0,t._)("div",D,[(0,t.Wm)(c,(0,t.dG)((0,n.SU)(Ye),{modelValue:je.contact_ename,"onUpdate:modelValue":l[19]||(l[19]=e=>je.contact_ename=e),label:e.$t("聯繫人名字")}),null,16,["modelValue","label"])]),(0,t._)("div",H,[(0,t.Wm)(c,(0,t.dG)((0,n.SU)(Ye),{modelValue:je.contact_name,"onUpdate:modelValue":l[20]||(l[20]=e=>je.contact_name=e),label:e.$t("聯繫人名字(中文)")}),null,16,["modelValue","label"])]),(0,t._)("div",B,[(0,t.Wm)(c,(0,t.dG)((0,n.SU)(Ye),{modelValue:je.contact_id_code,"onUpdate:modelValue":l[21]||(l[21]=e=>je.contact_id_code=e),label:e.$t("聯繫人身份證號碼")}),null,16,["modelValue","label"])]),(0,t._)("div",C,[(0,t.Wm)(c,(0,t.dG)((0,n.SU)(Ye),{modelValue:je.contact_address,"onUpdate:modelValue":l[22]||(l[22]=e=>je.contact_address=e),label:e.$t("聯繫人地址")}),null,16,["modelValue","label"])]),(0,t._)("div",I,[(0,t.Wm)(c,(0,t.dG)((0,n.SU)(Ye),{modelValue:je.contact_phone,"onUpdate:modelValue":l[23]||(l[23]=e=>je.contact_phone=e),label:e.$t("聯繫人手機號碼")}),null,16,["modelValue","label"])]),(0,t._)("div",Y,[(0,t.Wm)(c,(0,t.dG)((0,n.SU)(Ye),{modelValue:je.contact_telephone,"onUpdate:modelValue":l[24]||(l[24]=e=>je.contact_telephone=e),label:e.$t("聯繫人電話")}),null,16,["modelValue","label"])]),(0,t._)("div",F,[(0,t.Wm)(c,(0,t.dG)((0,n.SU)(Ye),{modelValue:je.contact_email,"onUpdate:modelValue":l[25]||(l[25]=e=>je.contact_email=e),label:e.$t("聯繫人郵箱")}),null,16,["modelValue","label"])]),(0,t._)("div",O,[(0,t._)("div",R,"3."+(0,o.zw)(e.$t("上傳檔案")),1),0===je.type?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t._)("div",T,[(0,t._)("span",A,(0,o.zw)(e.$t("身份證"))+":",1),(0,t.Wm)((0,n.SU)(s.Z),{modelValue:je.id_code_file,"onUpdate:modelValue":l[26]||(l[26]=e=>je.id_code_file=e),"remote-method":De,multiple:"",accept:"*"},null,8,["modelValue"])]),(0,t._)("div",E,[(0,t._)("span",N,(0,o.zw)(e.$t("地址證明"))+":",1),(0,t.Wm)((0,n.SU)(s.Z),{modelValue:je.address_identify,"onUpdate:modelValue":l[27]||(l[27]=e=>je.address_identify=e),"remote-method":De,multiple:"",accept:"*"},null,8,["modelValue"])])],64)):1===je.type?((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t._)("div",P,[J,(0,t.Wm)((0,n.SU)(s.Z),{modelValue:je.br_url,"onUpdate:modelValue":l[28]||(l[28]=e=>je.br_url=e),"remote-method":De,multiple:"",accept:"*"},null,8,["modelValue"])]),(0,t._)("div",K,[(0,t._)("span",L,(0,o.zw)(e.$t("公司印章"))+":",1),(0,t.Wm)((0,n.SU)(s.Z),{modelValue:je.company_seal_url,"onUpdate:modelValue":l[29]||(l[29]=e=>je.company_seal_url=e),"remote-method":De,multiple:"",accept:"*"},null,8,["modelValue"])])],64)):(0,t.kq)("",!0),(0,t._)("div",M,[(0,t._)("span",X,(0,o.zw)(e.$t("申請表"))+":",1),(0,t.Wm)((0,n.SU)(s.Z),{modelValue:je.declare_url,"onUpdate:modelValue":l[30]||(l[30]=e=>je.declare_url=e),"remote-method":De,multiple:"",accept:"*"},null,8,["modelValue"])]),(0,t._)("div",ee,[(0,t._)("span",le,(0,o.zw)(e.$t("其他"))+":",1),(0,t.Wm)((0,n.SU)(s.Z),{modelValue:je.other_url,"onUpdate:modelValue":l[31]||(l[31]=e=>je.other_url=e),"remote-method":De,multiple:"",accept:"*"},null,8,["modelValue"])])]),(0,t._)("div",ae,[(0,t._)("div",te,"4."+(0,o.zw)(e.$t("聲明表")),1),(0,t._)("div",oe,[(0,t.Uk)((0,o.zw)(e.$t("致：存家寶有限公司")),1),ne,(0,t.Uk)(" "+(0,o.zw)(e.$t("敬啟者：")),1),se,(0,t.Uk)(" "+(0,o.zw)(e.$t("本人/公司明白根據《危險品條例》（香港法例第295章）第6條訂明：「除根據並按照本條例批給的牌照外,任何人不得製造、儲存、運送或使用任何危險品。」")),1),ce,(0,t.Uk)(" "+(0,o.zw)(e.$t("「危險品」在《危險品(適用及豁免)規例》（香港法例第295A章）的分類中如下：")),1),de,(0,t.Uk)(" "+(0,o.zw)(e.$t("第1類：爆炸品及爆破劑")),1),ue,(0,t.Uk)(" "+(0,o.zw)(e.$t("第2類：壓縮氣體")),1),ie,(0,t.Uk)(" "+(0,o.zw)(e.$t("第3類：腐蝕性物質")),1),me,(0,t.Uk)(" "+(0,o.zw)(e.$t("第4類：有毒物質")),1),_e,(0,t.Uk)(" "+(0,o.zw)(e.$t("第5類：發出易著火蒸氣的物質")),1),re,(0,t.Uk)(" "+(0,o.zw)(e.$t("第6類：與水相互影響會變為危險的物質")),1),pe,(0,t.Uk)(" "+(0,o.zw)(e.$t("第7類：強力助燃劑")),1),Ve,(0,t.Uk)(" "+(0,o.zw)(e.$t("第8類：隨時可能燃燒的物質")),1),be,(0,t.Uk)(" "+(0,o.zw)(e.$t("第9類：可自燃的物質")),1),Ue,(0,t.Uk)(" "+(0,o.zw)(e.$t("第9A類：可能燃燒物品")),1),ve,(0,t.Uk)(" "+(0,o.zw)(e.$t("第10類：其他危險物質，包括製冷劑(俗稱雪種)")),1)]),(0,t._)("div",null,[(0,t.Wm)(i.Z,{modelValue:je.four[0],"onUpdate:modelValue":l[32]||(l[32]=e=>je.four[0]=e),options:Qe.groups.four[0]},null,8,["modelValue","options"])]),(0,t._)("div",we,[(0,t.Uk)((0,o.zw)(e.$t("本人/公司進一步聲明在貯存單位記憶體放的物品大致上包括：")),1),fe,(0,t.Uk)(" "+(0,o.zw)(e.$t("（請在適當的方格內打剔號）")),1)]),(0,t._)("div",null,[(0,t.Wm)(i.Z,{modelValue:je.four[1],"onUpdate:modelValue":l[33]||(l[33]=e=>je.four[1]=e),options:Qe.groups.four[1]},null,8,["modelValue","options"])])]),(0,t._)("div",xe,[(0,t._)("div",$e,"5."+(0,o.zw)(e.$t("聲明")),1),(0,t.Uk)(" "+(0,o.zw)(e.$t("我/我們清楚明白我/我們須就任何違反以上填寫資料的行為負上刑事及/或民事索償責任，許可方亦有權終止本許可協議，扣留任何由我/我們已支付的按金及會追究因發生任何意外之所有賠償及法律責任。相關政府部門亦可能根據法律採取執法行動。我/我們將承擔就使用貯存單位及在貯存單位記憶體放物品而造成許可方損失的所有賠償及法律責任。"))+" ",1),(0,t._)("div",null,[(0,t.Wm)(i.Z,{modelValue:je.five[0],"onUpdate:modelValue":l[34]||(l[34]=e=>je.five[0]=e),options:Qe.groups.five[0]},null,8,["modelValue","options"])])]),(0,t._)("div",ge,[(0,t._)("div",ye,"6."+(0,o.zw)(e.$t("問卷調查")),1),(0,t._)("div",he,(0,o.zw)(e.$t("閣下是怎樣認識我們？")),1),(0,t._)("div",null,[(0,t.Wm)(i.Z,{modelValue:je.six[0],"onUpdate:modelValue":l[35]||(l[35]=e=>je.six[0]=e),options:Qe.groups.six[0]},null,8,["modelValue","options"])])]),(0,t._)("div",ke,[(0,t.Wm)(u,{onClick:Ie,color:"primary",loading:Ze.value,label:e.$t("儲存")},null,8,["loading","label"])])])),_:1},512)])),_:1}))])),_:1})}}};var ze=a(4458),qe=a(3190),Ge=a(8326),Ze=a(1389),je=a(6611),Qe=a(8879),De=a(8149),He=a(9984),Be=a.n(He);const Ce=We,Ie=Ce;Be()(We,"components",{QCard:ze.Z,QCardSection:qe.Z,QForm:Ge.Z,QBtnToggle:Ze.Z,QInput:je.Z,QBtn:Qe.Z,QField:De.Z})}}]);