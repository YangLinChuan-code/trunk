"use strict";(globalThis["webpackChunktrunk"]=globalThis["webpackChunktrunk"]||[]).push([[763],{5763:(e,l,t)=>{t.r(l),t.d(l,{default:()=>k});var a=t(9835),o=t(6970),s=t(499),u=t(6827),d=t(7712),n=t(8339);const i={class:"text-h6"},c={class:"row"},r={class:"row"},m={class:"row"},p={class:"row"},b={class:"row"},g={class:"row"},v={class:"row items-center text-subtitle1"},_={class:"row q-gutter-x-lg"},U={__name:"AddCoupon",setup(e){const{t:l}=(0,d.QT)(),t=(0,a.f3)("post"),U=(0,n.tv)(),V=(0,s.iH)(!1);let w=(0,s.qj)({title:"",type:"",price:"",code:"",status:1,start_time:"",end_time:""});const S={title:[e=>e.length>0||l("請輸入優惠標題")],type:[e=>""!==e||l("請選擇優惠類別")],price:[e=>e>0||l("請輸入折扣金額")],code:[e=>e.length>0||l("請輸入優惠碼"),e=>/^\S+$/.test(e)||l("請輸入正確優惠碼")],status:[e=>e.length>0||l("請選擇狀態")]},h=((0,s.iH)(1),[{label:l("啟用"),value:1},{label:l("禁用"),value:0}]),W=[{label:l("固定金額"),value:0},{label:l("百分比"),value:1}],q=()=>{if(1==w.type&&Number(w.price)>100)return u.Z.create({message:l("優惠類型為百分比，優惠金額最高輸入100"),position:"top",color:"negative"});V.value=!0,t("/discount/discount_add",{form:w},(e=>{"success"===e.status?(V.value=!1,u.Z.create({message:e.message,position:"top",color:"positive"}),U.go(-1)):u.Z.create({message:e.message,position:"top",color:"negative"})}))};return(e,l)=>{const t=(0,a.up)("q-card-section"),u=(0,a.up)("q-input"),d=(0,a.up)("q-select"),n=(0,a.up)("date"),U=(0,a.up)("q-option-group"),Z=(0,a.up)("q-btn"),$=(0,a.up)("q-form"),f=(0,a.up)("q-card"),y=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(y,{padding:""},{default:(0,a.w5)((()=>[(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a.Wm)(t,null,{default:(0,a.w5)((()=>[(0,a._)("div",i,(0,o.zw)(e.$t("新增優惠券")),1)])),_:1}),(0,a.Wm)(t,null,{default:(0,a.w5)((()=>[(0,a.Wm)($,{onSubmit:q,class:"q-gutter-y-lg"},{default:(0,a.w5)((()=>[(0,a._)("div",c,[(0,a.Wm)(u,{modelValue:(0,s.SU)(w).title,"onUpdate:modelValue":l[0]||(l[0]=e=>(0,s.SU)(w).title=e),rules:S.title,"hide-bottom-space":"",class:"col-5",label:e.$t("標題"),outlined:"",dense:"",clearable:""},null,8,["modelValue","rules","label"])]),(0,a._)("div",r,[(0,a.Wm)(d,{class:"col-5",label:e.$t("優惠類別"),outlined:"",dense:"",modelValue:(0,s.SU)(w).type,"onUpdate:modelValue":l[1]||(l[1]=e=>(0,s.SU)(w).type=e),options:W,"emit-value":"","map-options":"",rules:S.type,"hide-bottom-space":""},null,8,["label","modelValue","rules"])]),(0,a._)("div",m,[(0,a.Wm)(u,{class:"col-5",label:e.$t("折扣金額"),outlined:"",dense:"",clearable:"",modelValue:(0,s.SU)(w).price,"onUpdate:modelValue":l[2]||(l[2]=e=>(0,s.SU)(w).price=e),rules:S.price,"hide-bottom-space":""},null,8,["label","modelValue","rules"])]),(0,a._)("div",p,[(0,a.Wm)(u,{class:"col-5",label:e.$t("優惠碼"),outlined:"",dense:"",clearable:"",modelValue:(0,s.SU)(w).code,"onUpdate:modelValue":l[3]||(l[3]=e=>(0,s.SU)(w).code=e),rules:S.code,"hide-bottom-space":""},null,8,["label","modelValue","rules"])]),(0,a._)("div",b,[(0,a.Wm)(n,{label:e.$t("有效期開始日期"),"stack-label":"",class:"col-5",outlined:"",dense:"",clearable:"",modelValue:(0,s.SU)(w).start_time,"onUpdate:modelValue":l[4]||(l[4]=e=>(0,s.SU)(w).start_time=e)},null,8,["label","modelValue"])]),(0,a._)("div",g,[(0,a.Wm)(n,{label:e.$t("有效期結束日期"),"stack-label":"",class:"col-5",outlined:"",dense:"",clearable:"",modelValue:(0,s.SU)(w).end_time,"onUpdate:modelValue":l[5]||(l[5]=e=>(0,s.SU)(w).end_time=e)},null,8,["label","modelValue"])]),(0,a._)("div",v,[(0,a._)("div",null,(0,o.zw)(e.$t("狀態"))+"：",1),(0,a.Wm)(U,{options:h,color:"priamry",inline:"",modelValue:(0,s.SU)(w).status,"onUpdate:modelValue":l[6]||(l[6]=e=>(0,s.SU)(w).status=e),rules:S.status},null,8,["modelValue","rules"])]),(0,a._)("div",_,[(0,a.Wm)(Z,{type:"submit",color:"primary",label:e.$t("儲存"),loading:V.value},null,8,["label","loading"]),(0,a.Wm)(Z,{to:"/other",color:"negative",label:e.$t("返回")},null,8,["label"])])])),_:1})])),_:1})])),_:1})])),_:1})}}};var V=t(9885),w=t(4458),S=t(3190),h=t(8326),W=t(6611),q=t(2259),Z=t(2286),$=t(8879),f=t(9984),y=t.n(f);const Q=U,k=Q;y()(U,"components",{QPage:V.Z,QCard:w.Z,QCardSection:S.Z,QForm:h.Z,QInput:W.Z,QSelect:q.Z,QOptionGroup:Z.Z,QBtn:$.Z})}}]);